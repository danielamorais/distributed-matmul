<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Dana Matrix Multiplication - WASM</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #f5f5f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .emscripten {
            padding-right: 0;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }
        #canvas {
            display: block;
            margin: 0 auto;
            width: 800px;
            height: 600px;
            border: 1px solid #ccc;
        }
        .info {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 14px;
        }
    </style>
    <!-- Canvas for Dana UI -->
    <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex="-1"></canvas>
    
    <script>
        // Module configuration - MUST be defined before loading file_system.js
        Module = {
            canvas: (() => {
                var e = document.getElementById("canvas");
                e.addEventListener("webglcontextlost", (e => {
                    alert("WebGL context lost. You will need to reload the page.");
                    e.preventDefault();
                }), false);
                return e;
            })(),
            print: function(text) {
                console.log('[Dana] ' + text);
            },
            printErr: function(text) {
                console.error('[Dana] ' + text);
            }
        };
        
        // Set Dana arguments to load main.o
        // Add -sp resources so Dana can find MainAppLoopImpl component
        Module['arguments'] = ['-dh', '.', '-sp', 'resources', 'app/main.o'];
    </script>
    
    <!-- Load Dana WASM Runtime -->
    <script src="file_system.js"></script>
    <script async src="dana.js"></script>
    
    <script>
        console.log('===== Dana WASM Main App =====');
        console.log('UI will be handled entirely by Dana WASM');
        console.log('Check console for Dana app output');
        console.log('============================');
    </script>
</head>
<body>
    <div class="info">
        <p>Matrix Multiplication Calculator - Powered by Dana WASM</p>
        <p>The UI is rendered entirely by Dana's UI framework.</p>
    </div>
</body>
</html>
