uses network.http.HTTPUtil
uses adapter.Adapter

data Response {
    int code
    char status[]
    char serverName[]
    int contentLength
    char contentType[]
    char body[]
}

interface Server extends Adapter {
    const int MODE_PROXY = 1
    const int MODE_ADAPTIVE = 2
    const int MODE_LOCAL = 3

    void initialize(opt int mode)
    char[] process(HTTPMessage request)
    char[] sendResponse(HTTPMessage request, Response response)
    char[] handleRequest(char httpRequestBuf[])
}
